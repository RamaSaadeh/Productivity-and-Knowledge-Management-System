<html lang="en">
<head>
  <title>ManagerDashboard</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@600&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" /> 
  <link href="https://db.onlinewebfonts.com/c/77009ab521bc15b6e38fcc22dd5270f4?family=Churchward+Design+Bold" rel="stylesheet">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha2/css/bootstrap.min.css">
  <link href="managerdash.css" rel="stylesheet"></script>
</head>

<body>
	<nav class="myNav">
		<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
			<a class="navbar-brand" href="#" "Make-it-all">
				<h1 class="logo-text">Make-It-All</h1>
			</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarNav">
				<ul class="navbar-nav ml-auto">
					<li class="nav-item">
						<a class="nav-link" id="dashboard" href="#">Dashboard</a>
					</li>
					<li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
							Posts
						</a>
						<div class="dropdown-menu" aria-labelledby="navbarDropdown">
							<a class="dropdown-item" href="all-posts.html">All Posts</a>
							<a class="dropdown-item" href="create-post.html">Create Post</a>
						</div>
					</li>
					<li class="nav-item">
						<a class="nav-link" id="btnInviteUser" onclick="openForm()" href="#">Invite User</a>
					</li>
					<li class="nav-item dropdown" id="accountBox">
						<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						<span id="profileIcon" class="material-symbols-outlined">account_circle</span>Account</a>
						<div class="dropdown-menu" aria-labelledby="navbarDropdown">
							<a class="dropdown-item" href="profile.html">My Profile</a>
							<a class="dropdown-item logout" href="standard_index.html">Logout</a>
						</div>
					</li>
				</ul>
			</div>
		</nav>
	</nav>

	<div class="popup-background" id="inviteuseropaquebg">
		<form class="inviteuser-form" action="javascript:getData()" method="get">
			<h1>Invite User</h1>

			<label for="email"><b>Email</b></label>
			<input type="text" placeholder="Enter Email" id="email" name="email">
			<label id="emailError" style="color: red; display: none">Email address is not valid</label>

			<button type="submit" class="btn" onclick="sendInvite()">Send Invite Link</button>
			<button type="button" class="btn cancel" onclick="closeForm()">Close</button>
		</form>
	</div>
	


<div id="pageheader">
	Management Dashboard
	<div class="SwitchProject">
		<button class="switchprojbtn" onclick="toggleSwitchProjDropdown()">Switch Project <span id="switchsymbol" class="material-symbols-outlined">sync_alt</span></button>
		<div id="switchproj-dropdown" class="switchprojdropdown-content">
			<a href="#">Project 1</a>
		</div>
		<button id="NewProjbtn" onclick="openaddnewprojForm()">New Project<span id="NewProjSymbol" class="material-symbols-outlined">playlist_add</span></button>	
		<button id="ToDoListbtn" onclick="openToDoList()">My To-Do List<span id="listsymbol" class="material-symbols-outlined">list</span></button>
	</div>
</div>

<div class="popup-background" id="addnewprojopaquebg">
	<form class="addnewproj-form" action="javascript:getData()" method="get">
		<div class="form-title">
			<button type="button" id="cancel-formbtn" onclick="closeaddnewprojForm()">Cancel</button>
			<div id="formheader">Create New Project</div>
		</div>
		<div id="formcontent">
			<label>Enter the name that your project will be known as</label>
			<input type="text" placeholder="Enter Name" id="newprojname" required>
			<button type="submit" id="createnewproj-formbtn" onclick="closeaddnewprojForm()">Create</button>
		</div>
	</form>
</div>

<div class="popup-background" id="ToDoListopaquebg">
	<div class="ToDoList-form">
		<div class="form-title">
			<button type="button" id="cancel-formbtn" onclick="closeToDoList()">Close</button>
			<div id="formheader">My To-Do List</div>
		</div>
		<div id="toDoList">
  			<!-- www.w3schools.com. (n.d.). How To Create a To Do List. [online] Available at: https://www.w3schools.com/howto/howto_js_todolist.asp [Accessed 28 Oct. 2023].-->
			<div id="toDoHeader">
				<input type="text" id="toDoInput" placeholder="New item..."></textarea>
				<span onclick="newElement()" id="toDoAddBtn">Add</span>
			</div>
		
			<ul id="toDoUL">
				<li><p>Send out meeting notes</p></li>
				<li class="checked"><p>Book time off</p></li>
				<li><p>Organize mentor meeting</p></li>
				<li><p>Order printing ink</p></li>
				<li><p>Set up meeting with client</p></li>
				<li><p>Book team dinner</p></li>
			</ul>
		</div>
	</div>
</div>


<div class="flex-container">
	<! -----------Tasks Box----------- >
	<div class="flex-item-myproject">
		
		<div class="section-header">Project XXX
			<button class="addtaskbtn" onclick="openaddtaskForm()">Add Task</button>
		</div>	
		<div class="tablediv">
			<table id="taskstable">
				  <tr>
					<th>Task</th>
					<th>Status</th>
					<th>Deadline</th>
					<th>Assigned</th>
					<th>
						<div class="SortByDropdown">
							<button onclick="toggleTaskSortbyDropdown()" class="Sortbybtn">Sort By<i class="fa fa-caret-down"></i></button>
							<div id="tasksortbydropdown" class="dropdown-content">
								<a href="#">Alphebetical</a>
								<a href="#">Completion</a>
								<a href="#">Deadline</a>
							</div>
						</div>
					</th>
				  </tr>
				  <tr>
					<td>Update Spec</td>
					<td>On Track</td>
					<td>20/03/2024</td>
					<td>John Doe<br>Claire Owens<br>Jack Wood</td>
					<td><button class = "notesbtn" onclick="opentasknotesForm()">Notes</button><button class="editbtn" onclick="loadtasktoform(this)"><span id="editsymbol" class="material-symbols-outlined">edit</span></button></td>
				  </tr>
				  <tr>
					<td>Run Sprint</td>
					<td>Not Started</td>
					<td>15/02/2024 </td>
					<td>Steve Jobs<br>Jack Wood</td>
					<td><button class = "notesbtn" onclick="opentasknotesForm()">Notes</button><button class="editbtn" onclick="loadtasktoform(this)"><span id="editsymbol" class="material-symbols-outlined">edit</span></button></td>
				  </tr>
				  <tr>
					<td>Launch Prototype</td>
					<td>Overdue</td>
					<td>01/01/2001</td>
					<td>Claire Owens</td>
					<td><button class = "notesbtn" onclick="opentasknotesForm()">Notes</button><button class="editbtn" onclick="loadtasktoform(this)"><span id="editsymbol" class="material-symbols-outlined">edit</span></button></td>
				  </tr>
				  
			</table>
		</div>
	</div>
	
	<! -----------Tasks Status Box----------- >
	<div class="flex-item-projectstatussection">
		<div class="section-header">Project Status</div>
		<div class="keys-div">
			<div class="single-key"><span class="dot" style="background-color: #054822"></span> Completed</div>
			<div class="single-key"><span class="dot" style="background-color: rgb(255, 149, 35)"></span> OnTrack</div>
			<div class="single-key"><span class="dot" style="background-color: #a1083b"></span> Overdue</div>
			<div class="single-key"><span class="dot" style="background-color: #bbb"></span> NotStarted</div>
		</div>
		<div id="piechart-div">
		<canvas id="piechart"></canvas>
		</div>
	</div>
	
</div>

<div class="popup-background" id="addtaskopaquebg">
	<form class="addtask-form" action="javascript:getData()" method="get">
		<div class="form-title">
			<button type="button" id="cancel-formbtn" onclick="closeaddtaskForm()">Cancel</button>
			<div id="formheader">New Task</div>
		</div>
		
		<div id="formcontent">
			<input type="text" placeholder="Enter Task Name" id="taskname" required>
			
			<select required id="statusselect">
				<option value="" disabled selected hidden>Choose Status...</option>
				<option value="Not Started">Not Started</option>
				<option value="On Track">On Track</option>
				<option value="Overdue">Overdue</option>
				<option value="Completed">Completed</option>
			</select>
			<input type="text" placeholder="Deadline: dd/mm/yyyy" id="deadline" required>
			<label id="choosestafflabel">Hold ctrl to select multiple staff</label>
			<select multiple required id="choosestaff">
				<option value="John Doe">John Doe</option>
				<option value="Claire Owens">Claire Owens</option>
				<option value="Steve Jobs">Steve Jobs</option>
				<option value="Anne Levy">Anne Levy</option>
				<option value="Martin Keown">Martin Keown</option>
				<option value="Jack Richards">Jack Richards</option>
				<option value="Ben Potts">Ben Potts</option>
			</select>		
			<button type="submit" id="addtask-formbtn">Add new task</button>
		</div>
	</form>
</div>

<div class="popup-background" id="tasknotesopaquebg">
	<form class="tasknotes-form" action="javascript:getData()" method="get">
		<div class="form-title">
			<button type="button" id="cancel-formbtn" onclick="closetasknotesForm()">Cancel</button>
			<div id="formheader">Task Notes</div>
		</div>
		<div id="formcontent">
			<label id="tasknoteslabel">Below are the Notes for this Task</label>
			<textarea id="tasknotescontent" placeholder="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"></textarea>
			<button type="submit" id="savenoteschanges-formbtn" onclick="closetasknotesForm()">Save Changes</button>
			<button id="closenotesbtn" onclick="closetasknotesForm()">Close without saving changes</button>
		</div>
	</form>
</div>

<div class="popup-background" id="edittaskopaquebg">
	<form class="edittask-form" action="javascript:getData()" method="get">
		<div class="form-title">
			<button type="button" id="cancel-formbtn" onclick="closeedittaskForm()">Cancel</button>
			<div id="formheader">Edit Task</div>
		</div>
		<div id="formcontent">

			<label>Name</label>
			<input type="text" placeholder="Enter Task Name" id="taskname-edit" required>

			<label>Status</label>
			<select required id="statusselect-edit">
				<option value="" disabled selected hidden>Choose Status...</option>
				<option value="Not Started">Not Started</option>
				<option value="On Track">On Track</option>
				<option value="Overdue">Overdue</option>
				<option value="Completed">Completed</option>
			</select>

			<label>Deadline</label>
			<input type="text" placeholder="Deadline: dd/mm/yyyy" id="deadline-edit" required>

			<label id="choosestafflabel">This will overwrite currently assigned staff</label>
			<select multiple required id="choosestaff-edit">
				<option value="John Doe">John Doe</option>
				<option value="Claire Owens">Claire Owens</option>
				<option value="Steve Jobs">Steve Jobs</option>
				<option value="Anne Levy">Anne Levy</option>
				<option value="Martin Keown">Martin Keown</option>
				<option value="Jack Richards">Jack Richards</option>
				<option value="Ben Potts">Ben Potts</option>
			</select>

			<button type="submit" id="saveedittask-formbtn" onclick="makechangestotasktable()">Save Changes</button>
			<button id="closeedittaskbtn" onclick="closeedittaskForm()">Close without saving changes</button>
		</div>
	</form>  
</div>


<div class="flex-container">
    <! -----------My Team Box----------- >
	<div class="flex-item-myteamsection"> 
		<div class="section-header">Team
			<button class="removemember" onclick="openremovestaffForm()">Remove member</button>
			<button class="addmember" onclick="openaddstaffForm()">Add member</button>
			<button class="changeteamroles" onclick="openchangeroleForm()">Change Roles</button>
		</div>
		
		<div class="tablediv">
			<table id="StaffTable">
				  <tr>
					<th>Member</th>
					<th>Role</th>
					<th>Email</th>
				  </tr>
				  <tr>
					<td>John Doe</td>
					<td>Team Leader</td>
					<td>random@makeitall.co.uk</td>
				  </tr>
				  <tr>
					<td>Claire Owens</td>
					<td>xxxxxx</td>
					<td>random@makeitall.co.uk</td>
				  </tr>
				  <tr>
					<td>Steve Jobs</td>
					<td>xxxxxx</td>
					<td>random@makeitall.co.uk</td>
				  </tr>
				  <tr>
					<td>Anne Levy</td>
					<td>xxxxxx</td>
					<td>random@makeitall.co.uk</td>
				  </tr>
				  <tr>
					<td>Martin Keown</td>
					<td>xxxxxx</td>
					<td>random@makeitall.co.uk</td>
				  </tr>
				  <tr>
					<td>Jack Richards</td>
					<td>xxxxxx</td>
					<td>random@makeitall.co.uk</td>
				  </tr>
				  <tr>
					<td>Ben Potts</td>
					<td>xxxxxx</td>
					<td>random@makeitall.co.uk</td>
				  </tr>
			</table>
		</div>
	</div>
	
	<div class="popup-background" id="addstaffopaquebg">
	<form class="addstaff-form" action="javascript:getData()" method="get">
		<div class="form-title">
			<button type="button" id="cancel-formbtn" onclick="closeaddstaffForm()">Cancel</button>
			<div id="formheader">Add Member</div>
		</div>
		<div id="formcontent">
			<label id="addstafflabel">Enter the Email of the Staff Member you would like to add to your team</label>
			<input type="text" placeholder="Enter Staff Email" id="staffemail" required>
			<button type="submit" id="addstaff-formbtn">Add</button>
		</div>
	</form>
	</div>

<div class="popup-background" id="removestaffopaquebg">
	<form class="removestaff-form" action="javascript:getData()" method="get">
		<div class="form-title">
			<button type="button" id="cancel-formbtn" onclick="closeremovestaffForm()">Cancel</button>
			<div id="formheader">Remove Member</div>
		</div>
		
		<div id="formcontent">
			<label>Select member below to remove them from the Team</label>
			<select required id="select-removestaff">
				<option value="" disabled selected>Select Member</option>
				<option value="John Doe">John Doe</option>
				<option value="Claire Owens">Claire Owens</option>
				<option value="Steve Jobs">Steve Jobs</option>
				<option value="Anne Levy">Anne Levy</option>
				<option value="Martin Keown">Martin Keown</option>
				<option value="Jack Richards">Jack Richards</option>
				<option value="Ben Potts">Ben Potts</option>
			</select>			
			<button type="submit" id="removestaff-formbtn" onclick="closeremovestaffForm()">Remove</button>
		</div>
	</form>
</div>

<div class="popup-background" id="changeroleopaquebg">
	<form class="changerole-form" action="javascript:getData()" method="get">
		<div class="form-title">
			<button type="button" id="cancel-formbtn" onclick="closechangeroleForm()">Cancel</button>
			<div id="formheader">Change Role</div>
		</div>
		
		<div id="formcontent">
			<label>Select member below to make them the project Team Leader</label>
			<select required id="select-changerole">
				<option value="" disabled selected>Select Member</option>
				<option value="John Doe">John Doe</option>
				<option value="Claire Owens">Claire Owens</option>
				<option value="Steve Jobs">Steve Jobs</option>
				<option value="Anne Levy">Anne Levy</option>
				<option value="Martin Keown">Martin Keown</option>
				<option value="Jack Richards">Jack Richards</option>
				<option value="Ben Potts">Ben Potts</option>
			</select>		
			<button type="submit" id="changerole-formbtn" onclick="closechangeroleForm()">Make Team Leader</button>
		</div>
	</form>
</div>
	
	<! -----------Workload Box----------- >
	<div class="flex-item-workloadsection"> 
		<div class="section-header">Workload</div>
		<div>
			<canvas id="workload-chart"></canvas>
		</div>
		
	</div>
	
	<! -----------Alerts Box----------- >
	<div class="flex-item-alertssection"> 
		<div class="section-header">Alerts</div>
			<div id="allalerts">
				<div class="alert">
					<span class="closealertbtn">&times;</span>  
					John Doe has requested Training
				</div>
				<div class="alert">
					<span class="closealertbtn">&times;</span>  
					Task xxx is due today!
				</div>
			</div>
		</div>
	</div>


<footer class="myFooter">
	<div class = "footer">
	<div class = "footer-content">
	<div class = "footer-section about">

		<h1 class ="footer-title"> Make-It-All</h1>

		<div class="contact-details">
			<span><i class="fas fa-phone"></i> &nbsp; 01509 888999</span>
			<span><i class="fas fa-envelope"></i> &nbsp; king@make-it-all.co.uk</span>
		</div>
	</div>

	</div>
	</div>
</footer>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha2/js/bootstrap.min.js"></script>
<script src="managerdash.js"></script>
	

</body>
</html>